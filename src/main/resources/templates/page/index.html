<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/index_style.css">
    <title th:text="#{page.title.index}">é¦–é¡µ</title>
  </head>
  <body>
    <div id="particles"></div>
    <div th:replace="fragments/notice :: notice"></div>
    <div th:replace="fragments/navbar :: navbar"></div>
    <div th:replace="fragments/particle :: particle"></div>

    <div class="warning-bar" id="warningBar" th:text="#{index.warningBarText}">
        âš  ä»ç”µè„‘ç«¯æ‰“å¼€ä½“éªŒæ›´ä½³
        <span
                class="close-btn"
                onclick="document.getElementById('warningBar').style.display='none'"
        >X</span
        >
    </div>

    <h1 th:text="#{index.noticeBoard}">ğŸª§å…¬å‘Šæ </h1>

    <div class="notice-board">
      <div class="notice-important" th:text="#{index.notice1}">
        æ­å–œé’æµ¦ä¸–å¤–é«˜ä¸­ç¤¾å›¢å®˜ç½‘äº2025.12.9æ­£å¼ä¸Šçº¿2.0ç‰ˆæœ¬ï¼ï¼ï¼
      </div>
        <div class="notice-critical" th:text="#{index.notice2}">
            ç”±äºæœ‰åˆ·èµç°è±¡ï¼Œä¸ºä¿è¯æŠ•ç¥¨å…¬å¹³æ€§ï¼ŒæŠ•ç¥¨äº12æœˆ11æ—¥14:30ç‚¹å…¨éƒ¨æ¸…é›¶ï¼Œé‡æ–°æŠ•ç¥¨ï¼Œæ¯ä¸ªè®¾å¤‡å¯¹æ¯ä¸ªç¤¾å›¢é™æŠ•1æ¬¡ã€‚ç»™å¤§å®¶å¸¦æ¥ä¸ä¾¿ï¼Œæ•¬è¯·è°…è§£
        </div>
      <div class="notice" th:text="#{index.notice3}">
        æ„è§ç®±å°†åœ¨ä¸€æœˆå›å½’ï¼Œè¯·è€å¿ƒç­‰å¾…
      </div>
      <div class="notice" th:text="#{index.notice4}">
        ç™»å½•æ³¨å†ŒåŠŸèƒ½å³å°†å®Œæˆï¼Œæ•¬è¯·æœŸå¾…
      </div>
    </div>

    <h1 th:text="#{index.excellentClubs}">ä¼˜ç§€ç¤¾å›¢</h1>

    <div id="ExClubs" class="tab-content active">
      <div class="scroll-wrapper">
        <div class="fade-left"></div>
        <div class="fade-right"></div>
        <div class="scroll-container">
          <div class="card">
            <img src="åŠ è½½ä¸­" alt="åŠ è½½ä¸­â€¦â€¦" />
            <div class="card-content">
              <h2 th:text="#{common.loading}">åŠ è½½ä¸­â€¦â€¦</h2>
              <p th:text="#{common.loading}">åŠ è½½ä¸­â€¦â€¦</p>
              <a class="button" target="_blank" th:text="#{common.viewDetails}">æŸ¥çœ‹è¯¦æƒ…</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const apiUrl = `/api/club/all`;
      fetch(apiUrl)
        .then((response) => response.json())
        .then((result) => {
          const data = result.data;
          const container = document.querySelector(
            `#ExClubs .scroll-container`
          );

          console.log(container);
          container.innerHTML = "";

          data.forEach((clubs) => {
            console.log(clubs);
            console.log(clubs.greatClub);

            if (clubs.greatClub) {
              const card = document.createElement("div");
              card.className = "card";
              card.innerHTML = `
                        <img src="${clubs.clubItem}" alt="${clubs.clubName}">
                        <div class="card-content">
                          <h2>${clubs.clubName}</h2>
                          <p>${clubs.sortDescription}</p>
                          <a class="button" href="../../${clubs.clubURL}" target="_blank" th:text="#{common.viewDetails}">æŸ¥çœ‹è¯¦æƒ…</a>
                        </div>
                      `;
              console.log(card);
              container.appendChild(card);
            }
            console.log(container);
          });

          data.forEach((clubs) => {
            console.log(clubs);
            console.log(clubs.greatClub);

            if (clubs.greatClub) {
              const card = document.createElement("div");
              card.className = "card";
              card.innerHTML = `
                        <img src="${clubs.clubItem}" alt="${clubs.clubName}">
                        <div class="card-content">
                          <h2>${clubs.clubName}</h2>
                          <p>${clubs.sortDescription}</p>
                          <a class="button" href="../../${clubs.clubURL}" target="_blank" th:text="#{common.viewDetails}">æŸ¥çœ‹è¯¦æƒ…</a>
                        </div>
                      `;
              container.appendChild(card);
            }
          });
        });
    </script>


    <script>
      // æ£€æµ‹æ˜¯å¦ä¸ºè§¦æ‘¸è®¾å¤‡
      function detectDeviceType() {
        const userAgent =
          navigator.userAgent || navigator.vendor || window.opera;

        if (/android/i.test(userAgent)) {
          return "Android";
        }

        if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
          return "iOS";
        }

        if (/windows phone/i.test(userAgent)) {
          return "Windows Phone";
        }
        return "Desktop";
      }

      const deviceType = detectDeviceType();

      console.log("Device Type: ", deviceType);

      if (detectDeviceType() != "Desktop") {
        document.getElementById("warningBar").style.display = "block";
      }
    </script>

    <a
      href="https://beian.miit.gov.cn"
      style="position: absolute; width: 100%; text-align: center; color: #9096b0"
      >æ²ªICPå¤‡2025137067å·</a
    >

  </body>
</html>